<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/stage.css}" />
    <link rel="stylesheet" th:href="@{/css/components/header.css}" />
    <link rel="stylesheet" th:href="@{/css/components/nav.css}" />
    <link rel="stylesheet" th:href="@{/css/components/darkTheme.css}" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script src="https://kit.fontawesome.com/a56b5a1294.js" crossorigin="anonymous"></script>
    <title>Etapas</title>
</head>
<body style="overflow: hidden;">
    <!-- Agrupa os elementos que compõe o cabeçalho. -->
    <div th:replace="fragments/header :: header"></div>


	<div th:replace="fragments/nav :: nav"></div>
	<main>


      <div class="header-table">
        <div class="container-input">
          <input type="text" placeholder="Buscar" name="text" class="input" />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20px"
            heigh="20px"
            viewBox="0 0 512 512"
          >
            <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path
              fill="#1e3050"
              d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
            />
          </svg>
        </div>

        <div class="btnCreate">
          <button class="CartBtn" onclick="showModalStage()">
            <span class="IconContainer">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="1em"
                viewBox="0 0 576 512"
                fill="#989EA7"
                class="cart"
              >
                <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                <path d="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/>
              </svg>
            </span>
            <p class="textBtn">Adicionar Etapa</p>
          </button>
        </div>

        <!--
        <div>
          <p th:href="@{/stages/{id}(id=${stages.contract_id})}"></p>
        </div>>
        -->
      </div>


		<div th:replace="fragments/interfaces/stage/modalAddStage :: div"></div>


    <div class="table-responsive">
      <table>
        <thead>
          <tr class="trHead">
            <th class="tdIcon"></i></th>
            <th class="tdTitle">Titulo</th>
            <th class="tdDescription">Descrição</th>
            <th class="dtDateHour">Prazo</th>
            <th class="dtStatus">Status</th>
            <th style="white-space: nowrap" class="tdMenu">
            </th>
          </tr>
        </thead>
        <tbody>
          <tr  id="stages" class="folderItem" th:each="stages : ${listStages}" th:data-id="${stages.id}" th:data-name="${stages.title}">
            <td class="tdIcon">
              <i class="fa-solid fa-clock fa-2xl"></i>
            </td>
            <td th:text="${stages.title}" class="tdTitle"></td>
            <td th:text="${stages.description}" class="tdDescription"></td>
            <td th:text="${stages.dateHour}" class="dtDateHour"></td>
            <td class="dtStatus">
                <img th:if="${stages.status == true}" th:src="@{/icones/check_small.svg}" class="iconConcludedContract">
                <img th:if="${stages.status == false}" th:src="@{/icones/X.svg}" class="iconConcludedContract">
            </td>
            <td style="white-space: nowrap" class="tdMenu">
              <button style=" border: none; height: 40px; width: 40px; border-radius: 15px; background-color: none;"
               onclick="showModalActionsStage(this)">
              <i class="fa-solid fa-ellipsis-vertical fa-lg"></i>
          </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div th:replace="fragments/interfaces/stage/modalOptnsStage :: div"></div>

    <div th:replace="fragments/interfaces/stage/modalEditStage :: div"></div>

    </div>
  </main>

<script th:src="@{/js/darkTheme.js}"></script>
<script th:src="@{/js/logout.js}"></script>
<script th:src="@{/js/stage.js}"></script>
<script th:src="@{/js/sidebar.js}"></script>
</body>
</html>