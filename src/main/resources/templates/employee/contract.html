<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" th:href="@{/css/contracts.css}" />
    <link rel="stylesheet" th:href="@{/css/components/header.css}" />
    <link rel="stylesheet" th:href="@{/css/components/nav.css}" />
    <link rel="stylesheet" th:href="@{/css/components/darkTheme.css}" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/a56b5a1294.js"
      crossorigin="anonymous"
    ></script>
    <title>Contratos</title>
  </head>
  <body>
    <div th:replace="fragments/header :: header"></div>

    <div th:replace="fragments/nav :: nav"></div>
    <div class="container">
      <main role="main" class="main">
        <div class="filters">
          <div class="namePrizeContainer">
            <div class="container-input">
              <label for="name">Nome: </label>
              <input
                type="text"
                placeholder="Buscar"
                name="text"
                class="input"
              />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20px"
                heigh="20px"
                viewBox="0 0 512 512"
              >
                <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                <path
                  fill="#1e3050"
                  d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
                />
              </svg>
            </div>

            <div class="container-input">
              <label for="time" id="time">Prazo: </label>
              <input
                type="text"
                placeholder="Buscar"
                name="text"
                class="input"
              />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20px"
                heigh="20px"
                viewBox="0 0 512 512"
              >
                <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                <path
                  fill="#1e3050"
                  d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
                />
              </svg>
            </div>
          </div>

          <div class="statusClientContainer">
            <div class="container-input">
              <label for="status" id="status">Status: </label>
              <input
                type="text"
                placeholder="Buscar"
                name="text"
                class="input"
              />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20px"
                heigh="20px"
                viewBox="0 0 512 512"
              >
                <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                <path
                  fill="#1e3050"
                  d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
                />
              </svg>
            </div>
            <div class="container-input">
              <label for="client">Cliente: </label>
              <input
                type="text"
                placeholder="Buscar"
                name="text"
                class="input"
              />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20px"
                heigh="20px"
                viewBox="0 0 512 512"
              >
                <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                <path
                  fill="#1e3050"
                  d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
                />
              </svg>
            </div>
          </div>
        </div>

        <div class="table-container">
          <table class="tabela">
            <tbody>
              <tr
                th:each="contract : ${listContract}"
                th:data-id="${contract.id}"
                th:data-title="${contract.title}"
                th:data-time="${contract.time}"
                th:data-client="${contract.client.id}"
              >
                <td><i class="fa-solid fa-handshake fa-2xl"></i></td>
                <td th:text="${contract.title}"></td>
                <td th:text="${contract.time}"></td>
                <td th:text="${contract.concluded}"></td>
                <td th:text="${contract.client.name}"></td>
                <td style="white-space: nowrap">
                  <button
                    style="border: none; height: 50px; width: 50px; border-radius: 15px;"
                    onclick="showModalActionsContract(this)"
                  >
                    <i class="fa-solid fa-ellipsis-vertical fa-xl"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="btnCreate">
          <button class="CartBtn" onclick="showModalContract()">
            <span class="IconContainer">
              <svg
              xmlns="http://www.w3.org/2000/svg"
              height="1.3em"
              viewBox="0 0 576 512"
              fill="rgb(17, 17, 17)"
              class="cart"
            >
              <!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
              <path
                fill="#989EA7"
                d="M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8 512 128l-.7 0-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48 0 224 28.2 0 91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16L0 352c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-224-80 0zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128l0 224c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-208c0-8.8-7.2-16-16-16l-80 0zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"
              />
            </svg>
            </span>
            <p class="textBtnAccContract">Adicionar Contrato</p>
          </button>
        </div>

        <div class="AddModalContract" id="AddModalContract">
          <div class="labelinput">
            <form th:action="@{/contract}" method="post">
              <label for="title">Nome do Contrato</label>
              <input type="text" name="title" id="title" class="inputmodal" />
              <label for="time">Prazo</label>
              <input type="date" name="time" id="time" class="inputmodaldate" />
              <label for="clientLogin">Cliente do Contrato</label>
              <input type="text" name="client.login" id="clientLogin" class="inputmodal"/>
              <div class="actions">
                <button type="submit" class="savebtn">Salvar</button>
                <p onclick="hideModalContract()">Sair</p>
              </div>
            </form>
          </div>
        </div>

        <div id="ModalOptions" class="ModalOptions">
          <a><button onclick="showModalContractName()" class="btnOption"><i class="fa-solid fa-pencil fa-sm"style="color: #1e3050;"></i> Renomear</button></a>
          <a><button onclick="confirmDeleteContract()" class="btnOption"><i class="fa-solid fa-trash fa-sm"style="color: #1e3050;"></i> Deletar</button></a>
          <a><button onclick="hideModalActionsContract()" class="btnOption">Sair</button></a>
        </div>
        
        <div class="EditModalContract" id="EditModalContract">
          <div class="labelinput">
            <label for="nameFolder">Renomear Contrato</label>
            <input type="text" class="inputRenameContract" id="name">
          </div>

          <div class="actions">
            <button class="savebtn" onclick="saveButtonEditContract()">Salvar</button>
            <p onclick="hideModalNameContract()">Sair</p>
          </div>
        </div>

      </main>
    </div>

    <script th:src="@{/js/contract.js}"></script>
    <script th:src="@{/js/darkTheme.js}"></script>
    <script th:src="@{/js/logout.js}"></script>
  </body>
</html>
